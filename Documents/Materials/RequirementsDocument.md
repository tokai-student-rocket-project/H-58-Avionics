# 要件定義書

ここでは、次期搭載計器の概要と開発するコンポーネントについて記載する。

## 概要

### 要件

- 10km機と同水準での設計を目指す
- H-57解析のフォードバックを反映して正確な計測を行う
- データ出力レートとダウンリンクレートを限界まで上げる
- バルブ制御やテレメータをシステムとして統合する
- CAN-BUSの技術実証を行う

### システム構成

- 搭載計器
  - Nucleo-F303K8 ... ArduinoNanoサイズのSTM32ボード
  - CAN-BUS ... データバス
  - 計測系
    - 加速度/ジャイロ ... 目標ODR 1kHz
    - 衝撃 ... ±200gの加速度センサを使う
    - 気圧 ... 分離後に動圧の影響を受けないようにする
    - 気温 ... 応答性確保のため機体外に熱電対を露出させる
    - 電圧 ... 電池ボックスの出力電圧を監視
    - GNSS ... 目標ODR 10Hz
  - データ処理系
    - フライトモード
    - 速度算出
    - 高度算出
    - 姿勢角算出
    - ロガー
      - SDカード
      - EEPROM ... 運用性がブラックボックスとして割り切る
  - 制御系
    - 状態検知
      - 予備燃焼検知
      - リフトオフ検知 ... Launch信号とフライトピン
      - 燃焼終了検知 ... 加速度
      - 頂点検知 ... 高度
      - 開傘検知 ... 加速度
      - 着地検知 ... 加速度
    - バルブ制御 ... 基板をバルブ付近に搭載
    - 不知火制御
  - 通信系
    - LoRa ... 3系統用意する
      - 高頻度ダウンリンク ... フライトデータを通信容量ギリギリまで詰め込む
      - 低頻度ダウンリンク ... 機体の状態など比較的低頻度で良い情報はこっち
      - アップリンク ... コマンド用
  - 電源系
    - 12Vパワーライン ... マイコン動作用 外部給電は行わずに電源投入時に接続
    - 12Vバルブ電源 ... バルブ駆動用 アンビリカルケーブルで外部電源に接続
- 地上局 ... H-57の地上局を改良
